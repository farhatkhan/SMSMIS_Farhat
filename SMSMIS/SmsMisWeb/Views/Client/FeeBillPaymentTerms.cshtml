@model  SmsMis.Models.Console.Client.FeeBillPaymentTerms
@{
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    ViewBag.Title = "Manage Branch";
}
@section Scripts {
    <script src="~/ng-Scripts/FeeBillPaymentTermsModule.js"></script>
<link href="~/design/Default.css" rel="stylesheet" />
}

<style>
    .tbl td {
        border: 1px solid black;
    }
</style>

<span class="pageTitle">Manage Fee Bill Payment Terms</span>
<br /><br />
<form ng-app="clientModule1" ng-controller="FeeBillPaymentTermController"
      name="myForm" novalidate>
    @*<div id="dvListing">
        <div id="dvSearch">
            <table border="0">
                <tr>
                    <td><input type="search" placeholder="Search BillType" ng-model="search.BillType" /></td>
                    <td><img src="~/images/actions/add.png" style="cursor:pointer;" ng-click="clear();" class="Buttons" /></td>
                </tr>
            </table>
        </div>
        <table border="0" class="listing">
            <thead>
                <tr>
                    <th>Manage Fee Bill Payment</th>
                </tr>
            </thead>
            <tr ng-repeat="obj in listData | filter: search" class="ng-class-even: 'even'; ng-class-odd: 'odd';" ng-click="load(obj)">
                <td>{{obj.BillType}}</td>
            </tr>
        </table>
        <span ng-hide="listData">@*Loading, please wait...</span>
    </div>*@
    <div id="dvFormContainer" class="DetailPage">
        <table>
            <tr>
                <td>
                    <table style="width: 470px">
                        <tr>
                            <td colspan="2" class="TableHeader">Fee Bill Payment Term</td>
                        </tr>
                        <tr>
                            <td colspan="2" class="TableSubHeader">Fee Payment Details</td>
                        </tr>
                        <tr id="trCompanyInfo">
                            <td>
                                <table style="width: 100%" class="FormTable" cellspacing="1" cellpadding="2" border="0">
                                    <tr>
                                        <td style="width: 50%;" class="FormCaptionLeft">
                                            <span class="requiredCaption">Company</span>
                                            <span class="required">*</span>
                                        </td>
                                        <td style="width:49%" class="FormTableContainer">
                                            <select id="companyCode" ng-model="selectedObject[0].CompanyCode" ng-options="obj.CompanyCode as obj.CompanyName for obj in listCompany" class="ComboBoxesFlexible" ng-change="loadRecord()" dosbox="true">
                                                <option value=""></option>
                                            </select>
                                            
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;" class="FormCaptionLeft">
                                            <span class="requiredCaption">Bill Type</span>
                                            <span class="required">*</span>
                                        </td>
                                        <td style="width:49%" class="FormTableContainer">
                                            <select id="billType" ng-model="selectedObject[0].BillType" class="ComboBoxesFlexible" ng-change="loadRecord()" dosbox="true">
                                                <option value="F">First Fee Bill</option>
                                                <option value="R">Regular Fee Bill</option>
                                            </select>
                                            
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <table class="tbl" style="border: solid 1px #808080; width: 98%" cellspacing="1" cellpadding="1">
                                                <thead>
                                                <th style="width: 20%; text-align: left;">Sr #</th>
                                                <th style="width: 60%; text-align: center;">Payment Terms</th>
                                                <th style="width: 20%; text-align: left;"></th>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="session in selectedObject">
                                                        <td style="text-align: left;">
                                                            {{ $index +1}}
                                                        </td>
                                                        <td>
                                                            <input id="txtpaymentTerm" type="text" maxlength="255" ng-model="session.PaymentTerm" ng-keydown="handleKeyEvent($event,$index)" />
                                                        </td>
                                                        <td style="text-align: center;cursor:pointer">
                                                            <img src="~/images/delete_entry.gif" ng-click="deleteGridRow(selectedObject,$index)">
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr class="TableHeader">
                                        <td align="right" style="padding-right:5px;" colspan="2">
                                            <input type="submit" id="btnSumbit" value="Save" ng-click="save();" dosbox="true" class="Buttons" />
                                            <input type="submit" id="btnDelete" value="Delete" ng-click="delete();" ng-show="isEditMode"
                                                   dosbox="true" class="Buttons" />

                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div ng-show="saveError">
                                                <div style="color:green">
                                                    {{ saveError }}
                                                </div>
                                            </div>
                                            <div ng-show="listError">
                                                <div style="color:red">
                                                    {{ listError }}
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
       <script type="text/javascript">
           
    $(document).on('keydown', ':focusable', function (e) {
    if (e.which == 13) {
    e.preventDefault();
    // Get all focusable elements on the page
    var $canfocus = $(':focusable');

    var index = $canfocus.index(this) + 1;
    if (index >= $canfocus.length) index = 0;

    $canfocus.eq(index).focus().select();
    }
    });
    </script>
</form>

